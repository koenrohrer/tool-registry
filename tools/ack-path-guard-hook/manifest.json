{
  "type": "hook",
  "name": "ack-path-guard",
  "version": "1.0.0",
  "description": "Blocks hardcoded file paths in ACK source code -- all paths must use ClaudeCodePaths constants.",
  "config": {
    "event": "PreToolUse",
    "matcher": "Write|Edit",
    "hooks": [
      {
        "type": "command",
        "command": "bash -c 'INPUT=$(cat); FILE=$(echo \"$INPUT\" | jq -r \".file_path // empty\"); if [[ \"$FILE\" == */src/adapters/* || \"$FILE\" == */src/services/* ]] && [[ \"$FILE\" == *.ts ]]; then CONTENT=$(echo \"$INPUT\" | jq -r \".content // .new_string // empty\"); BAD=$(echo \"$CONTENT\" | grep -nE \"(path\\.join|path\\.resolve).*(\\.claude|settings\\.json|mcp\\.json|\\.claude\\.json|skills/|commands/)\" | grep -v \"ClaudeCodePaths\" | grep -v \"//\" | head -5); if [[ -n \"$BAD\" ]]; then echo \"WARNING: Hardcoded config paths detected. Use ClaudeCodePaths constants instead:\" >&2; echo \"$BAD\" >&2; fi; fi'"
      }
    ]
  }
}
