{
  "type": "hook",
  "name": "console-log-guard",
  "version": "1.0.0",
  "description": "Warns when console.log, print(), or debug statements are added to production code.",
  "config": {
    "event": "PreToolUse",
    "matcher": "Write|Edit",
    "hooks": [
      {
        "type": "command",
        "command": "bash -c 'INPUT=$(cat); FILE=$(echo \"$INPUT\" | jq -r \".file_path // empty\"); if [[ \"$FILE\" == *.test.* || \"$FILE\" == *.spec.* || \"$FILE\" == *_test.* ]]; then exit 0; fi; CONTENT=$(echo \"$INPUT\" | jq -r \".content // .new_string // empty\"); HITS=$(echo \"$CONTENT\" | grep -nE \"^[^/]*\\b(console\\.log|console\\.debug|print\\(|debugger|Debug\\.Log)\\b\" | head -5); if [[ -n \"$HITS\" ]]; then echo \"WARNING: Debug statements found in $FILE:\" >&2; echo \"$HITS\" >&2; echo \"Consider removing before committing.\" >&2; fi'"
      }
    ]
  }
}
